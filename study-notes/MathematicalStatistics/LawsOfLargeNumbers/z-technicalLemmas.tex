
          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\section{Technical lemmas}
\setcounter{theorem}{0}
\setcounter{equation}{0}

%\cite{vanDerVaart1996}
%\cite{Kosorok2008}

%\renewcommand{\theenumi}{\alph{enumi}}
%\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\begin{theorem}[Borel-Cantelli Lemma]\label{theorem:BorelCantelli}
\mbox{}\vskip 0.1cm
\noindent
Suppose \,$(\Omega,\mathcal{A},P)$\, is a probability space, and
\,$A_{n} \in \mathcal{A}$\,,\, for each $n \in \N$.
Then,
\begin{enumerate}
\item
	\begin{equation*}
	\overset{\infty}{\underset{n=1}{\sum}}\;P(A_{n}) \; < \; \infty
	\quad\Longrightarrow\quad
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
			\;\right)
		\;\; = \;\; 0
	\end{equation*}
\item
	\begin{equation*}
	\left.\begin{array}{c}
		\underset{{\color{white}-}}{\textnormal{The $A_{n}$'s are independent, and}}
		\\
	\overset{\infty}{\underset{n=1}{\sum}}\;P(A_{n}) \; = \; \infty
	\end{array}\;\right\}
	\quad\Longrightarrow\quad
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
			\;\right)
		\;\; = \;\; 1
	\end{equation*}
\end{enumerate}
\end{theorem}
\proof
\begin{enumerate}
\item
	First, note that
	\begin{equation*}
	\overset{\infty}{\underset{n=1}{\sum}}\;P(A_{n}) \; < \; \infty
	\quad\Longrightarrow\quad
		\underset{n\rightarrow\infty}{\lim}\;\,\overset{\infty}{\underset{i=n}{\sum}} \; P\!\left(\,A_{i}\,\right)
		\; = \;
			\underset{n\rightarrow\infty}{\lim}
			\left(\;
				\overset{\infty}{\underset{i=1}{\sum}} \; P\!\left(\,A_{i}\,\right)
				\, - \,
				\overset{n-1}{\underset{i=1}{\sum}} \; P\!\left(\,A_{i}\,\right)
				\right)
		\; = \;
			0
	\end{equation*}
	Hence,
	\begin{eqnarray*}
	&&
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
			\;\right)
	\\
	& = &
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \;\in\; \overset{\infty}{\underset{n=1}{\bigcap}} \;\, \overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}
			\;\right)
		\;\; = \;\;
		P\!\left(\;\,
			\overset{\infty}{\underset{n=1}{\bigcap}} \;\, \overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}
			\;\right)
	\\
	& \leq &
		P\!\left(\;\,
			\overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}
			\;\right),
		\quad
		\textnormal{for each \,$n \,\in\, \N$}
	\\
	& \leq &
		\overset{\infty}{\underset{i=n}{\sum}} \; P\!\left(\,A_{i}\,\right),
		\quad
		\textnormal{for each \,$n \,\in\, \N$}\,,
	\end{eqnarray*}
	which implies
	\begin{eqnarray*}
	0
	& \leq &
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
			\;\right)
		\;\; \leq \;\;
		\underset{n\rightarrow\infty}{\lim}\;\; \overset{\infty}{\underset{i=n}{\sum}} \; P\!\left(\,A_{i}\,\right)
		\;\; = \;\; 0
	\end{eqnarray*}
	which in turn implies
	\begin{eqnarray*}
	P\!\left(\,
		\left.
		\omega \in \overset{{\color{white}-}}{\Omega}
		\,\;\right\vert\;
		\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
		\;\right)
	\;\; = \;\; 0\,,
	\end{eqnarray*}
	as required.
	
\item
	First, note that
	\begin{equation*}
	\overset{\infty}{\underset{n=1}{\sum}}\;P(A_{n}) \; = \; \infty
	\quad\Longrightarrow\quad
		\overset{\infty}{\underset{i=n}{\sum}}\;P(A_{i}) \; = \; \infty\,,
	\quad\textnormal{for each \,$n \,\in\, \N$}\,.
	\end{equation*}
	If the \,$A_{n}$'s\, are furthermore independent events, then for each $n \in \N$,
	\begin{eqnarray*}
	P\!\left(\left(\;\,\overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}\,\right)^{\!c}\,\right)
	& = &
		P\!\left(\;\,\overset{\infty}{\underset{i=n}{\bigcap}}\;A_{i}^{c}\;\right)
		\;\; = \;\;
			\overset{\infty}{\underset{i=n}{\prod}}\;\, P\!\left(\,A_{i}^{c}\,\right)
		\;\; = \;\;
			\overset{\infty}{\underset{i=n}{\prod}}\, \left(\,\overset{{\color{white}.}}{1} \,-\, P\!\left(\,A_{i}\,\right)\,\right)
	\\
	& \leq &
		\overset{\infty}{\underset{i=n}{\prod}}\, \exp\left(\, -\,\overset{{\color{white}.}}{P}\!\left(\,A_{i}\,\right)\,\right)
		\;\; = \;\;
			\exp\!\left(\;
				-\,\overset{\infty}{\underset{i=n}{\sum}}\;\overset{{\color{white}.}}{P}\!\left(\,A_{i}\,\right)
				\;\right)
		\;\; = \;\;
			\exp\!\left(\; -\,\overset{{\color{white}\vert}}{\infty} \;\right)
		\;\; = \;\;
			0\,,
	\end{eqnarray*}
	where the equality above follows from the fact that \,$1 - x \leq e^{-x}$\,,\, for each $x \in [\,0,1\,]$.\,
	Hence,
	\begin{equation*}
	P\!\left(\;\,\overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}\;\right) \;\; = \;\; 1\,,
	\quad\textnormal{for each \,$n \,\in\, \N$}\,,
	\end{equation*}
	which implies
	\begin{equation*}
		P\!\left(\,
			\left.
			\omega \in \overset{{\color{white}-}}{\Omega}
			\,\;\right\vert\;
			\omega \in A_{n}\,,\;\textnormal{for infinitely many \,$n\,\in\,\N$}
			\;\right)
	\;\; = \;\;
		P\!\left(\;\,\overset{\infty}{\underset{n=1}{\bigcap}}\;\,\overset{\infty}{\underset{i=n}{\bigcup}}\;A_{i}\;\right)
	\;\; = \;\;
		1\,,
	\end{equation*}
	since the intersection of a countable family of events each having probability one itself has probability one.
	This completes the proof of the Borel-Cantelli Lemma.
\end{enumerate}
\qed

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\begin{lemma}\label{lemma:SequenceOfPartialMeans}
\mbox{}\vskip 0.1cm
\noindent
Suppose \,$\left\{\,a_{n}\,\right\}_{n\in\N}\,\subset\,\Re$\, is a sequence of real numbers and let
\,$b_{n} \, := \, \dfrac{1}{n}\cdot\overset{n}{\underset{i=1}{\sum}}\;a_{i}$\,.
Then,
\begin{equation*}
\underset{n\rightarrow\infty}{\lim}\;a_{n} \,=\, A \,\in\, \Re
\quad\Longrightarrow\quad
\underset{n\rightarrow\infty}{\lim}\;b_{n} \,=\, A
\end{equation*}
\end{lemma}
\proof
We need to show that, for each $\varepsilon > 0$, there exists $N(\varepsilon) \in \N$ such that
\begin{equation*}
\left\vert\;b_{n} - \overset{{\color{white}.}}{A}\;\right\vert \; < \; \varepsilon\,,
\quad
\textnormal{for each \,$n \,>\, N(\varepsilon)$}\,.
\end{equation*}
To this end, let \,$\varepsilon > 0$\, be given.
Since \,$\underset{n\rightarrow\infty}{\lim}\;a_{n} \,=\, A \,\in\, \Re$\,,
there exists \,$N_{1}(\varepsilon) \in \N$\, such that
\begin{equation*}
\left\vert\;a_{n} - \overset{{\color{white}.}}{A}\;\right\vert \; < \; \dfrac{\varepsilon}{2}\,,
\quad
\textnormal{for each \,$n \,>\, N_{1}(\varepsilon)$}\,.
\end{equation*}
Now, for each \,$n \geq N_{1}(\varepsilon)+1$,\, we have
\begin{eqnarray*}
\left\vert\;b_{n} - \overset{{\color{white}.}}{A}\;\right\vert
&=&
	\left\vert\;\dfrac{1}{n}\cdot\overset{n}{\underset{i=1}{\sum}}\;a_{i} - \overset{{\color{white}.}}{A}\;\right\vert
	\;\; = \;\;
	\left\vert\;\dfrac{1}{n}\cdot\overset{n}{\underset{i=1}{\sum}}\left(\,a_{i} - \overset{{\color{white}.}}{A}\,\right)\;\right\vert
	\;\; = \;\;
	\left\vert\;
		\dfrac{1}{n}\cdot\overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}\left(\,a_{i} - \overset{{\color{white}.}}{A}\,\right)
		\;+\;
		\dfrac{1}{n}\cdot\overset{n}{\underset{i=N_{1}(\varepsilon)+1}{\sum}}\left(\,a_{i} - \overset{{\color{white}.}}{A}\,\right)
		\;\right\vert
\\
&\leq&
	\left\vert\;
		\dfrac{1}{n}\cdot\overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}\left(\,a_{i} - \overset{{\color{white}.}}{A}\,\right)
		\;\right\vert
	\;\,+\;\,
	\left\vert\;
		\dfrac{1}{n}\cdot\overset{n}{\underset{i=N_{1}(\varepsilon)+1}{\sum}}\left(\,a_{i} - \overset{{\color{white}.}}{A}\,\right)
		\;\right\vert
	\;\; \leq \;\;
	\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}
		\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
	\;\,+\;\,
	\dfrac{1}{n} \cdot \overset{n}{\underset{i=N_{1}(\varepsilon)+1}{\sum}}
		\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
\\
&<&
	\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}
		\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
	\;\,+\;\,
	\dfrac{n - N_{1}(\varepsilon)}{n} \cdot \dfrac{\varepsilon}{2}
	\;\; \leq \;\;
	\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}
		\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
	\;\,+\;\,
	\dfrac{\varepsilon}{2}
\end{eqnarray*}
Next, observe that, since
\,$\overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert$\,
is just a (finite) real number, we have
\,$\underset{n\rightarrow\infty}{\lim}\;\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert \,=\, 0$\,.
In particular, there exists \,$N_{2}(\varepsilon) \in \N$ such that
\begin{equation*}
\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
\;\; < \;\; \dfrac{\varepsilon}{2}\,,
\quad
\textnormal{for each \,$n > N_{2}(\varepsilon)$}
\end{equation*}
Now, define \,$N(\varepsilon) \,:=\, \max\!\left\{\,\overset{{\color{white}.}}{N}_{1}(\varepsilon),N_{2}(\varepsilon)\,\right\}$.\,
Then,
\begin{eqnarray*}
\left\vert\;b_{n} - \overset{{\color{white}.}}{A}\;\right\vert
\;\; < \;\;
	\dfrac{1}{n} \cdot \overset{N_{1}(\varepsilon)}{\underset{i=1}{\sum}}
		\left\vert\; a_{i} - \overset{{\color{white}.}}{A} \;\right\vert
		\;\,+\;\,
		\dfrac{\varepsilon}{2}
\;\; < \;\;
	\dfrac{\varepsilon}{2} \;\,+\;\, \dfrac{\varepsilon}{2}
\;\; = \;\;
	\varepsilon\,,
\quad
\textnormal{for each \,$n \,>\, N(\varepsilon)$}
\end{eqnarray*}
This completes the proof of the Lemma.
\qed

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\begin{lemma}
\label{LemmaMomentsAndTails}
\mbox{}
\vskip 0.1cm
\noindent
Let $\left(\,\Omega,\mathcal{A},P\,\right)$ be any probability space.
Then, for each $p > 0$ and
for each non-negative random variable (i.e. measurable function) $f : \Omega \longrightarrow [0,\infty)$,
we have:
\begin{equation*}
E\!\left[\,f^{p}\,\right]
\;\; = \;\; p\,\int_{0}^{\infty}\,P\!\left(\,f > t\,\right)\cdot t^{p-1}\,\d t
\;\; = \;\; p\,\int_{0}^{\infty}\,P\!\left(\,f \geq t\,\right)\cdot t^{p-1}\,\d t\,.
\end{equation*}
\end{lemma}

\proof
\vskip 0.1cm
\noindent
We first prove the first equality:
By elementary Calculus (change of variable formula) and Fubini's Theorem, we have
\begin{eqnarray*}
E\!\left[\,f^{p}\,\right]
&:=& \int_{\Omega}\,f(\omega)^{p}\,\d P(\omega)
\;\;=\;\; \int_{\Omega}\,\left[\;\int_{0}^{f(\omega)^{p}}\,1\,\d s\;\right]\,\d P(\omega)
\;\;=\;\; \int_{\Omega}\,\left[\;\int_{0}^{\infty}\,1_{\left\{\,0\,<\,s\,<\,f(\omega)^{p}\right\}}\,\d s\;\right]\,\d P(\omega)
\\
&=& \int_{\Omega}\,\left[\;\int_{0}^{\infty}\,1_{\left\{\,0 \,\leq\, s^{1/p} \,<\, f(\omega)\,\right\}}\,\d s\;\right]\,\d P(\omega)
\;\;=\;\; \int_{\Omega}\,\left[\;\int_{0}^{\infty}\,1_{\left\{\,0 \,\leq\, t \,<\, f(\omega)\,\right\}}\cdot p \cdot t^{p-1} \,\d t\;\right]\,\d P(\omega)
\\
&=& \int_{0}^{\infty}\,\left[\;\int_{\Omega}\,1_{\left\{\,0 \,\leq\, t \,<\, f(\omega)\,\right\}}\cdot p \cdot t^{p-1} \,\d P(\omega)\;\right]\,\d t
\;\;=\;\; p \cdot \int_{0}^{\infty}\,\left[\;\int_{\Omega}\,1_{\left\{\,0 \,\leq\, t \,<\, f(\omega)\,\right\}}\,\d P(\omega)\;\right] \cdot t^{p-1} \,\d t
\\
&=& p \cdot \int_{0}^{\infty}\, P\!\left(\,f > t\,\right)\cdot t^{p-1} \,\d t.
\end{eqnarray*}
The proof of the second inequality is analogous.
\qed

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

%\renewcommand{\theenumi}{\alph{enumi}}
%\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%
