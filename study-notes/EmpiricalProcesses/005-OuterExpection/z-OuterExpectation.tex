
          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\section{Outer Expectation (a.k.a. Outer Integral)}
\setcounter{theorem}{0}
\setcounter{equation}{0}

%\cite{vanDerVaart1996}
%\cite{Kosorok2008}

%\renewcommand{\theenumi}{\alph{enumi}}
%\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\begin{definition}[Outer Expectation]
\label{defn:MajorantsOuterExpectation}
\mbox{}\vskip 0.1cm
\noindent
Let $(\Omega,\mathcal{A},\mu)$ be a probability space and
$f : \Omega \longrightarrow \overline{\Re}$
an arbitrary map from $\Omega$, where $\overline{\Re} := [-\infty,\infty]$ is the set of extended real numbers.
Let $\mathcal{O}$ denote the Borel $\sigma$-algebra of $\overline{\Re}$.
\begin{enumerate}
\item
	A $(\mathcal{A},\mathcal{O})$-measurable $\overline{\Re}$-valued function
	$g : \Omega\longrightarrow\overline{\Re}$
	is called a \underline{\textbf{measurable majorant}} of $f$ if there exists a measurable
	subset $A \in \mathcal{A}$ with $\mu(A) = 1$ such that
	$A \subset \left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\right\vert\; g(\omega) \,\geq\, f(\omega)\;\right\}$.
\item
	A $(\mathcal{A},\mathcal{O})$-measurable $\overline{\Re}$-valued function
	$g : \Omega\longrightarrow\overline{\Re}$
	is called a \underline{\textbf{measurable{\color{white}j}minorant}} of $f$ if there exists a measurable
	subset $A \in \mathcal{A}$ with $\mu(A) = 1$ such that
	$A \subset \left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\right\vert\; g(\omega) \,\leq\, f(\omega)\;\right\}$.
\item
	A measurable majorant $f^{*}:\Omega\longrightarrow\overline{\Re}$ of $f$
	is called a \underline{\textbf{minimal measurable majorant}} of $f$ if
	\begin{equation*}
	\mu\!\left(\,
		\left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\,\right\vert\; f^{*}(\omega) \,\leq\, g(\omega)\;\right\}
		\,\right)
	\;=\;1\,,\;\;
	\textnormal{for every measurable majorant $g$ of $f$}.
	\end{equation*}	
\item
	A measurable minorant $f_{*}:\Omega\longrightarrow\overline{\Re}$ of $f$
	is called a \underline{\textbf{maximal{\color{white}p}measurable minorant}} of $f$ if
	\begin{equation*}
	\mu\!\left(\,
		\left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\,\right\vert\; g(\omega) \,\leq\, f_{*}(\omega) \;\right\}
		\,\right)
	\;=\;1\,,\;\;
	\textnormal{for every measurable minorant $g$ of $f$}.
	\end{equation*}	
\item\label{defn:OuterExpectation}
	The \underline{\textbf{outer expectation}}\,, or outer integral,
	$E^{*}\!\left[\;f\;\right] \in \overline{\Re}$
	of $f$ is defined as follows:
	\begin{equation*}
	E^{*}\!\left[\,f\,\right]
	\;\; := \;\;
		\inf\!\left\{\;
			E\!\left[\,g\,\right] \in \overline{\Re}
			\;\;\left\vert\;
			\begin{array}{c}
				\textnormal{$g:\Omega\rightarrow\overline{\Re}$ is a measurable majorant of $f$, and}
				\\
				\textnormal{$E\!\left[\,g\,\right] \in \overline{\Re}$ is defined ($g$ need not be $\mu$-integrable)}
			\end{array}
			\right.
			\right\}
	\end{equation*}
\item
	The \underline{\textbf{inner expectation}}\,, or inner integral,
	of $f$ is defined to be
	$E_{*}\!\left[\;f\;\right] \, := \, - E^{*}\!\left[\;- f\;\right]$.
\end{enumerate}
\end{definition}

\begin{remark}
\mbox{}\vskip 0.1cm
\noindent
Measurable majorants always exist for any $\overline{\Re}$-valued function defined on $\Omega$.
Indeed, let $g : \Omega \longrightarrow \overline{\Re}$ be defined by $g(\omega) := +\infty$, for each $\omega \in \Omega$.
Then, $g$ is a measurable majorant of every $\overline{\Re}$-valued function defined on $\Omega$.
Note furthermore that $E\!\left[\,g\,\right] = +\infty$.
Hence, in Definition \ref{defn:MajorantsOuterExpectation} \eqref{defn:OuterExpectation} above,
the collection of majorants over which the infimum is taken is never the empty set.
\end{remark}

\begin{theorem}[Existence of minimal measurable majorant]
\mbox{}\vskip 0.1cm
\noindent
Suppose:
\begin{itemize}
\item
	$(\Omega,\mathcal{A},\mu)$ is a probability space.
	$\mathcal{O}$ denotes the Borel $\sigma$-algebra of $\overline{\Re}$.
\item
	$f : \Omega \longrightarrow \overline{\Re}$
	is an arbitrary map from $\Omega$ into the extended real numbers
	$\overline{\Re} := [-\infty,\infty]$.
\end{itemize}
Then, there exists a measurable majorant $f^{*} : \Omega \longrightarrow \overline{\Re}$ of $f$ such that
\begin{equation*}
\mu\!\left(\,\left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\,\right\vert\; f^{*}(\omega) \,\leq\, g(\omega)\;\right\}\,\right)
\;=\;1\,,\;\;
\textnormal{for every measurable majorant $g$ of $f$}.
\end{equation*}
\end{theorem}
\proof
Define
\begin{equation*}
\mathcal{M}(f)
\;\; := \;\;
	\left\{\;
		h : \Omega \longrightarrow \overline{\Re}
	\;\,\left\vert
		\begin{array}{c}
		\textnormal{$h$ is a measurable majorant of $\arctan(f)$, and}
		\\
		-\frac{\pi}{2} \leq h \leq \frac{\pi}{2} \;\, \mu\textnormal{-almost everywhere}
		\end{array}
	\right.
	\;\right\}
\end{equation*}

\vskip 0.3cm
\noindent
\textbf{Claim 1:}\quad
\begin{enumerate}
\item
	$\mathcal{M}(f)$ is closed under taking countable infimum.
	More precisely, suppose $h_{n} \in \mathcal{M}(f)$, $n \in \N$.
	Then,
	\begin{equation*}
	\widetilde{h} \;\; := \; \underset{n\in\N}{\inf}\; h_{n} \;\in\; \mathcal{M}(f).
	\end{equation*}
\item
	$\mathcal{M}(f)$ is closed under taking finite infimum.
	More precisely, suppose $h_{1}, h_{2}, \ldots, h_{n} \in \mathcal{M}(f)$.
	Then,
	\begin{equation*}
	\widetilde{h}_{n} \;\; := \; \min\!\left\{\;h_{1},h_{2},\ldots,h_{n}\;\right\} \;\in\; \mathcal{M}(f).
	\end{equation*}
\end{enumerate}
\vskip 0.1cm
\noindent
Proof of Claim 1:
\begin{enumerate}
\item
	Since \,$\widetilde{h}$\, is the infimum of a sequence of measurable functions,
	\,$\widetilde{h}$\, is itself measurable (see, for example, Theorem 11.7, p.311, \cite{Rudin1976}).
	Next, note that
	\begin{eqnarray*}
	h_{n} \in \mathcal{M}(f)\,,\;\; \forall\;\, n \in \N
	&\Longrightarrow&
		-\dfrac{\pi}{2} \;\;\leq\;\; h_{n} \;\;\leq\;\; \dfrac{\pi}{2} \;\;\; \mu\textnormal{-almost everywhere}\,,\;\;
		\forall\;\, n \in \N
	\\
	&\Longrightarrow&
		-\dfrac{\pi}{2} \;\;\leq\;\; \widetilde{h} \,:=\, \underset{n\in\N}{\inf}\;h_{n} \;\;\leq\;\; \dfrac{\pi}{2}
		\;\;\; \mu\textnormal{-almost everywhere}
	\end{eqnarray*}
	For each $n \in \N$, since $h_{n}$ is a measurable majorant of $\arctan(f)$,
	there exists $A_{n} \in \mathcal{A}$ with $\mu(A_{n}) = 1$
	such that $A_{n} \subset \left\{\, \arctan(f) \,\overset{{\color{white}.}}{\leq}\, h_{n} \,\right\}$.
	Note that $\mu\!\left(\,\overset{\infty}{\underset{n=1}{\bigcap}}\,A_{n}\,\right) = 1$.
	Indeed,
	\begin{equation*}
	\mu\!\left(\,\left(\;\overset{\infty}{\underset{n=1}{\bigcap}}\,A_{n}\,\right)^{c}\;\right)
	\;\; = \;\;
		\mu\!\left(\;\overset{\infty}{\underset{n=1}{\bigcup}}\,A_{n}^{c}\;\right)
	\;\; \leq \;\;
		\overset{\infty}{\underset{n=1}{\sum}}\;\mu\!\left(A_{n}^{c}\,\right)
	\;\; = \;\;
		\overset{\infty}{\underset{n=1}{\sum}}\,\left(1 \overset{{\color{white}.}}{-} \mu\!\left(A_{n}\,\right)\right)
	\;\; = \;\;
		\overset{\infty}{\underset{n=1}{\sum}}\;0
	\;\; = \;\;
		0\,,
	\end{equation*}
	which shows that we indeed have $\mu\!\left(\,\overset{\infty}{\underset{n=1}{\bigcap}}\,A_{n}\,\right) = 1$.
	On the other hand,
	\begin{equation*}
	\left\{\;\arctan(f) \,\leq\, \widetilde{h}\;\right\}
	\;\; = \;\;
		\bigcap_{n=1}^{\infty}\,\left\{\;\arctan(f) \,\overset{{\color{white}.}}{\leq}\, h_{n}\;\right\}
	\;\; \supset \;\;
		\bigcap_{n=1}^{\infty}\,A_{n}
	\end{equation*}
	This proves that \,$\widetilde{h}$\, is a measurable majorant of $\arctan(f)$;
	hence, \,$\widetilde{h} \in \mathcal{M}(f)$,\, as required.
\item
	This follows readily from Claim 1(i).
	Indeed, let $h_{1}, h_{2}, \ldots, h_{n} \in \mathcal{M}(f)$.
	We need to show that
	\,$\widetilde{h}_{n} \,:=\, \min\!\left\{\,h_{1},h_{2},\ldots,h_{n}\,\right\} \,\in\, \mathcal{M}(f)$.\,
	To this end, let $g_{i} := h_{i}$, for $i = 1,2,\ldots,n$. Let $g_{i} \equiv \dfrac{\pi}{2}$, for $i \geq n+1$.
	Then, $g_{i} \in \mathcal{M}(f)$, for each $i \in \N$.
	But then
	\begin{equation*}
	\widetilde{h}_{n}
	\;\; := \;\;
		\min\!\left\{\,h_{1},h_{2},\ldots,h_{n}\,\right\}
	\;\; = \;\;
		\underset{i\in\N}{\inf}\;\, g_{i}
	\;\; \in \;\;
		\mathcal{M}(f)\,,
		\quad
		\textnormal{by part (i)}.
	\end{equation*}
\end{enumerate}
This completes the proof of Claim 1.

%It is clear that, for each $n \in \N$, $-\dfrac{\pi}{2} \,\leq\, \widetilde{h}_{n} \,\leq\, \dfrac{\pi}{2}$ $\mu$-almost everywhere.
%For each $i \in \N$, since $h_{i}$ is a measurable majorant of $\arctan(f)$,
%there exists $A_{i} \in \mathcal{A}$ with $\mu(A_{i}) = 1$
%such that $A_{i} \subset \left\{\, \arctan(f) \,\overset{{\color{white}.}}{\leq}\, h_{i} \,\right\}$.
%Note that $\mu\!\left(\,\overset{n}{\underset{i=1}{\bigcap}}\,A_{i}\,\right) = 1$, for each $n \in \N$.

\vskip 0.8cm
\noindent
Note that, for each $h \in \mathcal{M}(f)$, we have
\begin{equation*}
-\dfrac{\pi}{2}
\;\;=\;\; -\dfrac{\pi}{2} \cdot \int_{\Omega} 1\;\d\mu
\;\;=\;\; \int_{\Omega} -\dfrac{\pi}{2} \;\d\mu
\;\;\leq\;\; \int_{\Omega} h \;\d\mu
\;\;\leq\; \int_{\Omega} \dfrac{\pi}{2} \;\d\mu
\;\;=\;\; \dfrac{\pi}{2} \cdot \int_{\Omega} 1\;\d\mu
\;\;=\;\; \dfrac{\pi}{2}
\end{equation*}
Hence,
\begin{equation*}
\alpha
\;\; := \;\; \underset{h\,\in\,\mathcal{M}(f)}{\inf}\left\{\;\int_{\Omega}h\;\d\mu\;\right\}
\;\;\in\;\; \left[-\dfrac{\pi}{2},\dfrac{\pi}{2}\right]
\;\;\subset\;\; \Re
\end{equation*}
Now, for each $n \in \N$, choose $h_{n} \in \mathcal{M}(f)$ such that
$\underset{n\rightarrow\infty}{\lim}\int_{\Omega}h_{n}\;\d\mu = \alpha$.
Next, for each $n \in \N$, define
\begin{equation*}
\widetilde{h}_{n} \;\; := \;\; \min\!\left\{\,h_{1},h_{2},\ldots,h_{n}\,\right\}.
\end{equation*}
Then, by Claim 1, \,$\widetilde{h}_{n} \in \mathcal{M}(f)$, for each $n \in \N$.
Furthermore, the sequence $\left\{\,\widetilde{h}_{n}\,\right\}$ is non-increasing in $n \in \N$.
We may therefore define:
\begin{equation*}
h
\;\; := \;\; \underset{n\rightarrow\infty}{\lim}\,\widetilde{h}_{n}
\;\; = \;\; \underset{n\in\N}{\inf}\;\,\widetilde{h}_{n}\,.
\end{equation*}
By Claim 1 again, we have:
$h \; := \; \underset{n\rightarrow\infty}{\lim}\,\widetilde{h}_{n} \; = \; \underset{n\in\N}{\inf}\;\,\widetilde{h}_{n} \; \in \; \mathcal{M}(f)$.

\vskip 0.8cm
\noindent
\textbf{Claim 2:}\quad $\int_{\Omega}\, h \; \d\mu \; = \; \alpha$.
\vskip 0.1cm
\noindent
Proof of Claim 2:\;\;
Since $h \,:=\, \underset{n\rightarrow\infty}{\lim}\;\widetilde{h}_{n} \in \mathcal{M}(f)$ and
$h \,=\, \underset{n\in\N}{\inf}\;\,\widetilde{h}_{n}$ (since $\widetilde{h}_{n}$ is non-increasing in $n \in \N$),
we have
\begin{eqnarray*}
\alpha
\;\;\leq\;\;
	\int_{\Omega}\;h\;\d\mu
&=&
	\int_{\Omega}\;\underset{n\rightarrow\infty}{\lim}\;\widetilde{h}_{n}\;\d\mu
\;\;=\;\;
	\int_{\Omega}\;\underset{n\in\N}{\inf}\;\,\widetilde{h}_{n}\;\d\mu
\\
&\leq&
	\int_{\Omega}\;\widetilde{h}_{n}\;\d\mu
\;\;=\;\;
	\int_{\Omega}\;\min\!\left\{\,h_{1},h_{2},\ldots,h_{n}\,\right\}\;\d\mu\,,
	\quad\textnormal{for each \,$n \in \N$}
\\
&\leq&
	\int_{\Omega}\;h_{n}\;\d\mu
\;\;\longrightarrow\;\;
	\alpha\,,
	\quad\textnormal{as \,$n \longrightarrow \infty$}\,,
	\quad\textnormal{by choice of $h_{n}$}
\end{eqnarray*}
Thus, \;$\int_{\Omega}\;h\;\d\mu \,=\, \alpha$.\; This proves Claim 2.

\vskip 0.8cm
\noindent
\textbf{Claim 3:}\quad
$f^{*} \, := \, \tan(h)$ is a measurable majorant of $f$ and satisfies the following property:
\begin{equation*}
\mu\!\left(\left\{\;f^{*} \,\overset{{\color{white}.}}{\leq}\, g \;\right\}\right) =1\,,
\quad
\textnormal{for each measurable majorant $g : \Omega \longrightarrow \overline{\Re}$ of $f$}.
\end{equation*}
Proof of Claim 3:\;\;
\noindent
The hypothesis that $g$ is a measurable majorant of $f$ and the fact that
$\arctan : \overline{\Re} \longrightarrow \left[-\dfrac{\pi}{2},\dfrac{\pi}{2}\right]$
is a strictly increasing homeomorphism readily imply that $\arctan(g) \in \mathcal{M}(f)$.
Claim 1 then implies $\min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\} \in \mathcal{M}(f)$.
Hence,
\begin{equation*}
\alpha
\;\; \leq \;\;
	\int_{\Omega}\,\min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}\d\mu
\;\; \leq \;\;
	\int_{\Omega}\;h\;\d\mu
\;\; = \;\;
	\alpha\,,
\end{equation*}
which implies
\begin{equation*}
\int_{\Omega}\,\min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}\d\mu
\;\; = \;\;
	\int_{\Omega}\;h\;\d\mu
\;\; = \;\;
	\alpha\,.
\end{equation*}
Since $\min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\} \,\leq\, h$, we have
\;$\left\vert\; h \, - \, \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\} \;\right\vert$
\;$=$\;
$h \, - \, \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}$.\;
Thus,
\begin{eqnarray*}
\int_{\Omega}\;\left\vert\; h \, - \, \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\} \;\right\vert\;\d\mu
& = &
	\int_{\Omega}\; \left(\;h \, - \, \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}\,\right)\;\d\mu
\\
& = &
	\int_{\Omega}\; h \;\d\mu
	\; - \;
	\int_{\Omega}\; \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}\;\d\mu
\;\; = \;\;
	\alpha \, - \, \alpha
\;\; = \;\;
	0\,,
\end{eqnarray*}
This implies that $h \, = \, \min\!\left\{\,\arctan(g),\overset{{\color{white}.}}{h}\,\right\}$
$\mu$-almost everywhere;
equivalently, $h \leq \arctan(g)$, $\mu$-almost everywhere.
This in turn implies that
$f^{*} \,:=\, \tan(h) \,\leq\, \tan\!\left(\arctan(g)\right) \,=\, g$, $\mu$-almost everywhere.
This proves Claim 3 and completes the proof of the Theorem.
\qed

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

\begin{theorem}[Expectation of minimal measurable majorant equals outer expectation]
\mbox{}\vskip 0.1cm
\noindent
Suppose:
\begin{itemize}
\item
	$(\Omega,\mathcal{A},\mu)$ is a probability space.
	$\mathcal{O}$ denotes the Borel $\sigma$-algebra of $\overline{\Re}$.
\item
	$f : \Omega \longrightarrow \overline{\Re}$
	is an arbitrary map from $\Omega$ into the extended real numbers
	$\overline{\Re} := [-\infty,\infty]$.
\item
	$f^{*} : \Omega \longrightarrow \overline{\Re}$ is a minimal measurable majorant of $f$
	such that $E\!\left[\,f^{*}\,\right]$ exists, i.e. $E\!\left[\,f^{*}\,\right] \in \overline{\Re}$.
\end{itemize}
Then, we have:
\begin{equation*}
E\!\left[\,f^{*}\,\right] \;\; = \;\; E^{*}\!\left[\;f\;\right].
\end{equation*}
\end{theorem}
\proof
Recall that, by definition,
\begin{equation*}
E^{*}\!\left[\;f\;\right]
\;\; := \;\;
	\inf\!\left\{\;
		E\!\left[\,g\,\right] \in \overline{\Re}
		\;\;\left\vert\;
		\begin{array}{c}
			\textnormal{$g:\Omega\rightarrow\overline{\Re}$ is a measurable majorant of $f$, and}
			\\
			\textnormal{$E\!\left[\,g\,\right] \in \overline{\Re}$ is defined ($g$ need not be $\mu$-integrable)}
		\end{array}
		\right.
		\right\}
\end{equation*}
Hence, we trivially have \,$E^{*}\!\left[\;f\;\right] \,\leq\, E\!\left[\,f^{*}\,\right]$.
On the other hand, for every measurable majorant $g : \Omega\longrightarrow\overline{\Re}$ of $f$,
we have
\begin{equation*}
\mu\!\left(\,
	\left\{\;\left.\omega\overset{{\color{white}.}}{\in}\Omega\;\,\right\vert\; f^{*}(\omega) \,\leq\, g(\omega)\;\right\}
	\,\right)
\;=\;1\,.\;\;
\end{equation*}
Hence,
\begin{equation*}
E\!\left[\,f^{*}\,\right] \; \leq \; E\!\left[\,g\,\right],
\quad
\textnormal{for each measurable majorant $g:\Omega\longrightarrow\overline{\Re}$ of $f$
with $E\!\left[\,g\,\right] \in \overline{\Re}$,}
\end{equation*}
which immediately implies:
\begin{equation*}
E\!\left[\,f^{*}\,\right]
\;\; \leq \;\;
	\inf\!\left\{\;
		E\!\left[\,g\,\right] \in \overline{\Re}
		\;\;\left\vert\;
		\begin{array}{c}
			\textnormal{$g:\Omega\rightarrow\overline{\Re}$ is a measurable majorant of $f$, and}
			\\
			\textnormal{$E\!\left[\,g\,\right] \in \overline{\Re}$ is defined ($g$ need not be $\mu$-integrable)}
		\end{array}
		\right.
		\right\}
\;\; =: \;\;
	E^{*}\!\left[\;f\;\right]	
\end{equation*}
We may now conclude that $E\!\left[\,f^{*}\,\right] \,=\, E^{*}\!\left[\;f\;\right]$, as required.
\qed

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%

%\renewcommand{\theenumi}{\alph{enumi}}
%\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{\textnormal{(\theenumi)}$\;\;$}

          %%%%% ~~~~~~~~~~~~~~~~~~~~ %%%%%
